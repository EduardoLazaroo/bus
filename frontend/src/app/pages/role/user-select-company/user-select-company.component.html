<div class="user-select-content">
  <!-- STEP 1: SELEÇÃO -->
  <div *ngIf="step === 'SELECT'">
    <div class="head-text">
      <span>Para prosseguirmos, selecione a empresa à qual você pertence.</span>
    </div>

    <label>Selecione a empresa</label>
    <select (change)="onCompanyChange($event)">
      <option value="" disabled selected>Selecione...</option>
      <option *ngFor="let link of availableCompanies" [value]="link.companyId">
        {{ link.companyName }}
      </option>
    </select>

    <button
      class="btn btn-primary"
      [disabled]="!selectedCompanyId"
      (click)="goNext()"
    >
      Próximo
    </button>
  </div>

  <!-- STEP 2: CONFIRMAÇÃO -->
  <div *ngIf="step === 'DRIVER_PROFILE'" class="driver-form">
    <h2>Cadastro de Motorista</h2>

    <label>CPF</label>
    <input type="text" [(ngModel)]="driverProfile.cpf" />

    <label>RG</label>
    <input type="text" [(ngModel)]="driverProfile.rg" />

    <label>Número da CNH</label>
    <input type="text" [(ngModel)]="driverProfile.cnhNumber" />

    <label>Categoria CNH</label>
    <input type="text" [(ngModel)]="driverProfile.cnhCategory" />

    <label>Validade da CNH</label>
    <input type="date" [(ngModel)]="driverProfile.cnhExpirationDate" />

    <label>Imagem CNH (URL)</label>
    <input type="text" [(ngModel)]="driverProfile.cnhImage" />

    <div class="actions">
      <button class="btn btn-secondary" (click)="back()">Voltar</button>

      <button class="btn btn-primary" (click)="saveDriverProfileAndContinue()">
        Salvar e continuar
      </button>
    </div>
  </div>

  <div *ngIf="step === 'CONFIRM'" class="finish-update">
    <h2>Pronto!</h2>

    <span>
      Agora, basta solicitar o vínculo e aguardar a aprovação da empresa.
    </span>

    <div class="actions">
      <button class="btn btn-secondary" (click)="back()">Voltar</button>

      <button class="btn btn-primary" (click)="requestAccessToOwner()">
        Solicitar vínculo
      </button>
    </div>
  </div>
</div>
